---
slug: /kehuduan/C8-VPC
---
### **VPC网络接入声明**

此socks5协议是标准公开协议，本教程主要介绍如何将云机的网络数据转发至个人服务器进行网络数据管理，禁止通过此协议在魔云腾的任何产品中从事非法活动，如浏览境外网络、网络诈骗、攻击他人计算机等，请严格遵循中华人民共和国法律法规行为，任何使用本功能造成的后果由使用者个人承担，必要情况下我司将竭力配合网监部门协助调查。  

### **VPC网络描述**

vpc网络支持将云机的网络数据通过标准的socks5协议转发至自己的socks5代理服务器进行数据转发，从而实现对云机的网络数据进行过滤和灵活管控能力；  

### **VPC网络接入场景说明**

VPC网络接入分别有2个场景，当前教程为myt zues C8产品配置教程  

1、在myt zues C8服务器中支持2种部署模式第一种是C8服务器管理控制台自带VPC网络，此vpc接入只支持云机网络属性为“桥接网络”，不支持私有网络； 第二种是在业务板系统中安装并启用“web管理插件”功能，此web管理插件中也支持vpc网络，但是此vpc网络只支持“私有网络”，不支持桥接网络 

2、在myt Zues C1产品中，支持1种模式，C1产品默认没有自带管理控制台，控制台已插件的形式存在，用户可以自主安装插件来实现vpc网络接入功能，C1产品的vpc只支持云机网络属性为“私有网络”

### **Zeus C8 VPC网络接入拓扑图**

![img](/img/c8/1.png)

**vpc配置准备工作**

1、确保C8服务器的eth0口网线已经接入路由器，并且确保eth0的网线可以正常访问互联网

2、使用PC端的魔云腾客户端新建一台云机、网络选择`桥接网络`、填写正确的网络参数，C8服务器默认网络参数请参照按下列方式填写（新设备可照抄），我这里以10.168.0.231这台业务板卡作为演示：

#镜像版本：MYTOS-2-GMS-v22.8.4（专业版）

#云机数量：1#分辨率：720 x 1280

#DNS类型：阿里DNS

#安全模式：开启   桥接网络：开启

起始IP：10.168.0.10

子网掩码：255.255.255.0

默认网关：10.168.0.1    

 subnet：10.168.0.0/16

![img](/img/c8/2.png)


3、客户端新建完成之后，确保云机可正常预览、打开云机的浏览器可访问互联网，这里以云机名称T1001作为演示

![img](/img/c8/3.png)

### **配置VPC线路**

**添加socks5线路**

1、查看C8服务器前面的LED屏幕，将显示的IP地址记录下来，然后在电脑的浏览器中输入LED屏幕显示的IP，例如我这里显示192.168.142.245，则输入：[http://192.168.142.245](http://192.168.142.245/)

2、在管理控制台中点击`网络管理`->`VPC网络管理`->登陆用户名和密码（此账户密码和PC客户端账户密码一样）->`添加VPC网络`->填写正确的socks账户信息->确认;

:::tip
如果有多条可用持续添加，但是IP地址不能重复，一条线路可用分配给多个云机，但一个云机同一时刻只能使用一条线路
:::

![img](/img/c8/4.png)

### **测试运行vpc线路**

点击`测试连接`，显示测试通过表示正常，否则检查socks5的配置和信息的正确性，测试通过之后点击`运行`

![img](/img/c8/5.png)
![img](/img/c8/6.png)

### **云机绑定VPC线路**

选择控制台选项->`安卓列表`->选择刚才新建的云机T001->`选择网络`->`选择VPC网络`->选择刚才新建的vpc线路->确认
提示：如果没有`选择网络`按钮，请在客户端新建云机的时候，把网络模式改成`桥接模式`
![img](/img/c8/7.png)
![img](/img/c8/8.png)
![img](/img/c8/9.png)

### **验证云机绑定是否生效**

打开刚才新建的云机T001，打开云机桌面的`浏览器`，输入：ip138.com，检查ip是否发生变动，发生变动则生效

![img](/img/c8/10.png)

### **常见问题**

**1、管理控制台无法打开**

答：检查C8服务器是否安装此教程的拓扑图连接网线和电脑，同时查看C8服务器前面LED屏幕显示的IP是否正确；此教程只适合myt zues C8产品，C1产品请查看此教程（点我跳转）

**2、添加vpc线路之后测试不通过**

答：检查服务器的eth0口是否可以正常上网，检查socks5配置参数的正确性，检查自己socks5服务器的是否可用；

第三方平台测试socks5线路是否可用方法：
在windows 10、11系统中按键盘windows键+R，弹窗运行对话框，输入cmd，回车，在黑色对话框中复制或输入下面代码到黑色对话框中，如果有返回ip则表示服务器可用，否则检查自己服务器的配置后在尝试

#参数解释#user1表示用户名

#123456表示密码

#192.168.100.120表示服务器的ip

#10811表示服务器的端口号

#其他参数保持不变，如果没有用户或密码，只改服务器和端口号即可，用户名和密码保持默认或者不填curl -x 

socks5://user1:123456@192.168.100.120:10811 https://ifconfig.me/ip

![img](/img/c8/11.png)

**3、填写服务器IP地址时提示：The Ip value xxxxxxx is not a valid IPv4 address**

答：服务器的IP选项目前只支持IP地址格式，比如：x.x.x.x ;如果不知道服务器的IP只知道域名，可在cmd命令行中ping 域名，将返回的IP填写进去
![img](/img/c8/12.png)

**4、选绑定云机线路时，没有`选择网络`按钮**

答：在新建云机时，没有勾选`桥接网络`,请新建云机选择桥接网络，或者更新镜像选择桥接网络（参照VPC配置准备工作）

**5、绑定云机之后没有网络，打不开网页**

答：

1) 检查VPC线路是否可用，在vpc网络管理页面中点击测试连接，如果测试失败，检查socks的配置参数或服务器是否可用；
2) 如果测试通过，请更新镜像或者新建云机时选择“阿里DNS”，或者“谷歌DNS”后继续尝试；
3) 如果问题依旧检查安卓列表是否绑定到正确的线路中，如果线路也正确，尝试重启云机或者更换socks5线路重试

**6、如何添加多个相同的socks5服务器IP**

答：当前不支持，在添加vpc线路时，请保证ip的唯一性

**7、一条线路能否绑定到多个云机**

答：支持，在安卓列表中选项需要绑定线路的云机，直接选择新的线路确认即可，提示：一台云机同一时刻只能绑定一条线路

**8、重启c8服务器之后之前的socks5配置信息丢失**

答：C8管理控制台固件版本过低，V92版本以下存在此问题，联系客服协助升级至V93以上

检查方法：登陆管理控制台->OpenWrt管理页->登陆（用户：root，密码：password）->概览->型号 SYF3568 Board V93-202311131511


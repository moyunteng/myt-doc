<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-MYTOS/设备信息接口调用说明" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">设备信息接口调用说明 | 魔云腾</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/myt-doc/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/myt-doc/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/myt-doc/docs/MYTOS/设备信息接口调用说明"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="设备信息接口调用说明 | 魔云腾"><meta data-rh="true" name="description" content="API接口概述"><meta data-rh="true" property="og:description" content="API接口概述"><link data-rh="true" rel="icon" href="/myt-doc/img/72.png"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/myt-doc/docs/MYTOS/设备信息接口调用说明"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/myt-doc/docs/MYTOS/设备信息接口调用说明" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/myt-doc/docs/MYTOS/设备信息接口调用说明" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/myt-doc/blog/rss.xml" title="魔云腾 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/myt-doc/blog/atom.xml" title="魔云腾 Atom Feed"><link rel="stylesheet" href="/myt-doc/assets/css/styles.69d0f50e.css">
<script src="/myt-doc/assets/js/runtime~main.59bb0f2a.js" defer="defer"></script>
<script src="/myt-doc/assets/js/main.1266805f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/myt-doc/"><div class="navbar__logo"><img src="/myt-doc/img/72.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/myt-doc/img/72.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">MYT</b></a><a class="navbar__item navbar__link" href="/myt-doc/docs/kehuduan/如何设置魔云腾安卓平板模式">安卓教程</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" sidebarid="MYTOS开发教程">MYTOS开发教程</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/myt-doc/docs/MYTOS/安卓管理控制接口对接介绍">API接口</a></li><li><a class="dropdown__link" href="/myt-doc/docs/MYTOS/SSH连接">使用教程</a></li><li><a class="dropdown__link" href="/myt-doc/docs/MYTOS/MYTOS中内置SOCKS5代理">知识科普</a></li><li><a class="dropdown__link" href="/myt-doc/docs/MYTOS/运行rkllm大模型">应用实例</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" sidebarid="kehuduan">客户端</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/myt-doc/docs/kehuduan/PC客户端">PC端</a></li><li><a class="dropdown__link" href="/myt-doc/docs/kehuduan/Myt Zues C1-VPC网络管理">WEB端</a></li><li><a class="dropdown__link" href="/myt-doc/docs/kehuduan/魔云趣联 （IPA文件）">IOS端</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" sidebarid="zeus">单路系列</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/myt-doc/docs/zeus-c1/C1 ubuntu固件">C1系列</a></li><li><a class="dropdown__link" href="/myt-doc/docs/zeus-q/Q1主机介绍">Q1系列</a></li><li><a class="dropdown__link" href="/myt-doc/docs/A1/Zeus A1 主机固件">A1系列</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link" sidebarid="zeuss">多路系列</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/myt-doc/docs/zeus-c8/Zeus C8 主机固件">C8系列</a></li><li><a class="dropdown__link" href="/myt-doc/docs/M48/M48接口介绍">M48系列</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/myt-doc/docs/MYTOS/安卓管理控制接口对接介绍">API接口</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/安卓管理控制接口对接介绍">安卓管理控制接口对接介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/魔云腾超级SDK">MYT SUPER SDK 正式发布了!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/超级SDK导出导入安卓教程">超级SDK导出导入安卓教程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/自动化MYT_RPA_SDK">自动化MYT_RPA_SDK</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/超级SDK设置多核多线程">超级SDK设置多核多线程</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/MYTOS 镜像版本列表">MYTOS 镜像版本列表</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/屏幕自动化辅助控制系统接口">屏幕自动化辅助控制系统接口</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/myt-doc/docs/MYTOS/设备信息接口调用说明">设备信息接口调用说明</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/基于docker-api封装的成品API">基于docker-api封装的成品API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/myt-doc/docs/MYTOS/易语言对接自动化控制模块Demo">易语言对接自动化控制模块Demo</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/myt-doc/docs/MYTOS/通用常规问题介绍">通用常规问题介绍</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/myt-doc/docs/MYTOS/SSH连接">使用教程</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/myt-doc/docs/MYTOS/MYTOS中内置SOCKS5代理">知识科普</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/myt-doc/docs/MYTOS/运行rkllm大模型">应用案例</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/myt-doc/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API接口</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">设备信息接口调 用说明</span><meta itemprop="position" content="2"></li></ul></nav><div class="theme-doc-markdown markdown"><header><h1>设备信息接口调用说明</h1></header><p>API接口概述</p>
<p>接口概述</p>
<p>相关的接口操作对象都是通过Android容器实例的IP进行访问.由于创建Android容器实例有2种IP模式,以下所有的的相关接口都会有2个地址,在接入API时请根据自己的网络模式自行选择.</p>
<p>1.获取设备截图</p>
<p>接口地址:<code>http://$ip:$port/task=snap&amp;level=3</code></p>
<p>请求方式:<code>GET</code></p>
<p>参数说明:</p>
<p>当Android容器为独立ip模式时 ip为安卓容器实例IP port为9082</p>
<p>当Android共享ip时 ip为当前主机ip port为动态计算得出 计算方法为: 第一个Android容器实例 10005 第二个 10008 第三个 10011 .... 以此类推 公式为 (索引下标-1) *3 + 10005</p>
<p><code>level=1</code> 为低分辨率 <code>level=2</code> 中等分辨率 <code>level=3</code> 原始分辨率</p>
<p>返回结果:</p>
<p>png格式图片</p>
<p>2.一键新机</p>
<p>(仅支持v16以后的版本)</p>
<p>2.1 随机设备信息</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式<!-- -->:GET</p>
<p>参数说明:</p>
<p><code>cmd=2</code></p>
<p><code>random_abroad=true</code>( 默认为false v20开始支持)</p>
<p><code>use_english=true</code>(默认为false v20开始支持)</p>
<p>当Android容器为独立ip模式时 ip为安卓容器实例IP port为9082</p>
<p>当Android共享ip时 ip为当前主机ip port为动态计算得出 计算方法为: 第一个Android容器实例 10005 第二个 10008 第三个 10011 .... 以此类推 公式为 (索引下标-1) *3 + 10005</p>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.202:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=2&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p>//成功</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    code: 200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>2.2 自定义设备信息</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式<!-- -->:POST</p>
<p>参数说明:</p>
<p>当Android容器为独立ip模式时 ip为安卓容器实例IP port为9082</p>
<p>当Android共享ip时 ip为当前主机ip port为动态计算得出 计算方法为: 第一个Android容器实例 10005 第二个 10008 第三个 10011 .... 以此类推 公式为 (索引下标-1) *3 + 10005</p>
<p>post 内容: 将json字符 base64加密一下为json结构体示例</p>
<p>设备信息完整文件下载地址 dev.json</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//设备信息  oaid 等</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;devinfo&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;oaid&quot;: &quot;12345678901234567890&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;aaid&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;vaid&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;wifimac&quot;: &quot;11:22:33:44:55:66&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;wifiname&quot;: &quot;TP-LINK_MYT&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;btaddr&quot;: &quot;22:33:44:55:66:77&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;btname&quot;: &quot;MYT&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;androidId&quot;: &quot;abcdefg123456&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//传感器信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;sensors&quot;: [{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Name&quot;: &quot;ACCELEROMETER&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Vendor&quot;: &quot;MTK&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;StringType&quot;: &quot;android.sensor.accelerometer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Version&quot;: -394882624,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Type&quot;: 1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;MinDelay&quot;: 5000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;FifoReservedEventCount&quot;: 3000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;MaxDelay&quot;: 20000,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Id&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;MaxRange&quot;: 78.453605651855,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Resolution&quot;: 0.0012000000569969,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Power&quot;: 0.0010000000474975,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Flags&quot;: 0,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;RequiredPermission&quot;: &quot;RequiredPermission&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;FifoMaxEventCount&quot;: 300</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ......</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> //模拟已安装应用列表 实际不安装</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;fakeapps&quot;: [{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;pkg&quot;: &quot;com.tencent.mobileqq&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;versionCode&quot;: &quot;4030&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;versionName&quot;: &quot;8.9.55&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;label&quot;: &quot;QQ&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;pkg&quot;: &quot;com.tencent.mm&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;versionCode&quot;: &quot;2380&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;versionName&quot;: &quot;8.0.37&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;label&quot;: &quot;微信&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;pkg&quot;: &quot;com.taobao.taobao&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;versionCode&quot;: &quot;441&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;versionName&quot;: &quot;10.24.20&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;label&quot;: &quot;淘宝&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//sim卡信息 地理位置 时区等信息</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;siminfo&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;mnc&quot;: &quot;0&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;mcc&quot;: &quot;460&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lac&quot;: &quot;28970&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;cid&quot;: &quot;111407362&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lat&quot;: &quot;30.638809204102&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;lon&quot;: &quot;114.2928314209&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;opercode&quot;: &quot;46000&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;opername&quot;: &quot;China Mobile&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;country&quot;: &quot;cn&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;timezone&quot;: &quot;UTC +8:00&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;zoneid&quot;: &quot;Asia\/Shanghai&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;language&quot;: &quot;zh&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;phonenumber&quot;: &quot;17047949030&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//环境变量 可以依据不同品牌自行添加</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;props&quot;: [{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;key&quot;: &quot;gsm.version.baseband&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;val&quot;: &quot;MOLY.LR12A.R3.MP.V136.6.P198,MOLY.LR12A.R3.MP.V136.6.P198&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;key&quot;: &quot;net.hostname&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;val&quot;: &quot;V2118&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;key&quot;: &quot;ro.actionable_compatible_property.enabled&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;val&quot;: &quot;true&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }, {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;key&quot;: &quot;ro.allow.mock.location&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;val&quot;: &quot;0&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.202:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data = file_get_contents(&#x27;dev.json&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$post_data = base64_encode($data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=1&amp;data=&#x27;.$post_data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p>//成功</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    code: 200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>3.隐藏应用</p>
<p>功能:和桌面上扩展服务-&gt;防封保护功能相同 在系统已安装列表中隐藏指定应用</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式:<code>POST</code></p>
<p>参数说明:<code>cmd=3</code></p>
<p><code>data=base64({&#x27;com.aa.bb&#x27;,&#x27;com.cc.dd&#x27;})</code></p>
<p>当Android容器为独立ip模式时 ip为安卓容器实例IP port为9082</p>
<p>当Android共享ip时 ip为当前主机ip port为动态计算得出 计算方法为: 第一个Android容器实例 10005 第二个 10008 第三个 10011 .... 以此类推 公式为 (索引下标-1) *3 + 10005</p>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.202:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$arr = array(&#x27;com.aa.bb&#x27;,&#x27;com.cc.dd&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data = json_encode($arr);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$post_data = base64_encode($data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=3&amp;data=&#x27;.$post_data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p>//成功</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> code: 200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>4.视频推流</p>
<p>功能:可以将指定的多媒体源投放到Android系统的摄像头 进行播放 设置好推流之后打开相机就可以查看效果了</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式:<code>POST</code></p>
<p>参数说明:<code>cmd=4</code></p>
<p><code>type: video</code> :视频流或者本地视频文件</p>
<p><code>webrtc :webrtc</code>流媒体</p>
<p><code>image</code> :本地图片或者网络图片</p>
<p><code>path = urlencode(&#x27;rtmp://192.168.100.1/live/&#x27;)</code> //测试直播流地址 <a href="http://devimages.apple.com.edgekey.net/streaming/examples/bipbop_4x3/gear2/prog_index.m3u8" target="_blank" rel="noopener noreferrer">http://devimages.apple.com.edgek ... ar2/prog_index.m3u8</a></p>
<p>当Android容器为独立ip模式时 ip为安卓容器实例IP port为9082</p>
<p>当Android共享ip时 ip为当前主机ip port为动态计算得出 计算方法为: 第一个Android容器实例 10005 第二个 10008 第三个 10011 .... 以此类推 公式为 (索引下标-1) *3 + 10005</p>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.100:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$t = &#x27;rtmp://192.168.100.1/live/test2&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$s = urlencode($t);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=4&amp;type=video&amp;path=&#x27;.$s);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p>//成功</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> code: 200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>5.获取当前推流地址</p>
<p>功能:获取当前推流地址和类型</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式:<code>GET</code></p>
<p>参数说明:<code>cmd=5</code></p>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.100:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=5&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p><code>{&quot;path&quot;:&quot;webrtc:\/\/192.168.100.1\/test&quot;,&quot;type&quot;:&quot;webrtc&quot;,&quot;code&quot;:200}</code></p>
<p>6 执行shell命令</p>
<p>功能:执行shell 命令</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式:<code>POST</code></p>
<p>参数说明:<code>cmd=6</code></p>
<p><code>cmdline</code></p>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.100:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$cmd = urlencode(&#x27;ps -a&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=6&amp;cmdline=&#x27;.$cmd);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>7.更新设备信息</p>
<p>功能:导出设备当前使用的设备信息 设备信息为加密后的数据</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式:<code>POST</code></p>
<p>参数说明:<code>cmd=7</code></p>
<p><code>data= json</code> 字符串</p>
<p><code>json</code> 格式为以下字段 任意一个或多个组合</p>
<p>字段名</p>
<p>类型</p>
<p>数据说明</p>
<p><code>lat</code></p>
<p><code>string</code></p>
<p>经度 (30.638809204102)</p>
<p><code>lon</code></p>
<p><code>string</code></p>
<p>纬度(114.2928314209)</p>
<p><code>country</code></p>
<p><code>string</code></p>
<p>国家码(cn)</p>
<p><code>timezone</code></p>
<p><code>string</code></p>
<p>时区(UTC +8:00)</p>
<p><code>language</code></p>
<p><code>string</code></p>
<p>语言(zh)</p>
<p><code>phonenumber</code></p>
<p><code>string</code></p>
<p>电话号码(17000888888)</p>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    &lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.100:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data[&#x27;phonenumber&#x27;] = &quot;12345678901&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data[&#x27;language&#x27;] = &#x27;en&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$str = json_encode($data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=7&amp;data=&#x27;.$str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p><code>{&quot;code&quot;:200}</code></p>
<p>8.导出当前设备信息</p>
<p>功能:导出设备当前使用的设备信息 设备信息为加密后的数据</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式:<code>GET</code></p>
<p>参数说明:<code>cmd=8</code></p>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> &lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.100:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=8&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p><code>{&quot;ret&quot;:&quot;x1KeFHgj1XKKKuzjqHajV6Ojki8NDHcs&quot;,&quot;code&quot;:200}</code></p>
<p>9.导入设备信息</p>
<p>功能: 导入之前导出的设备信息</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式:<code>POST</code></p>
<p>参数说明:<code>cmd=9</code></p>
<p><code>data= 导出的数据</code></p>
<p>以下给出PHP的调用方法示例:</p>
<p>​</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.100:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//之前导出的数据保存到文件中</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$data = file_get_contents(&#x27;dev.dat&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=9&amp;data=&#x27;.urlencode($data));</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p><code>{&quot;code&quot;:200}</code>
10.设置应用的Root权限
功能: 给指定的应用root 权限</p>
<p>接口地址:<code>http://$ip:$port/modifydev</code></p>
<p>请求方式:<code>GET</code></p>
<p>参数说明:<code>cmd= 10</code></p>
<p><code>pkg=com.tencent.game</code> 应用包名</p>
<p><code>root=true</code> root 权限 <code>true</code> or <code>false</code></p>
<p>以下给出PHP的调用方法示例:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;?php     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/////////////////////////////////////////////////////////////////////</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/*</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* Curl  post 方法</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function request_by_curl($remote_server, $post_string) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $ch = curl_init();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_URL, $remote_server);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POSTFIELDS, $post_string);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_POST, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_HEADER, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_setopt($ch, CURLOPT_TIMEOUT,30);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     $data = curl_exec($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     curl_close($ch);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     return $data;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$url = &quot;http://192.168.30.100:9082/modifydev&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ret = request_by_curl($url, &#x27;cmd=10&amp;pkg=com.tencent.game&amp;root=true&#x27;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var_dump($ret);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">?&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>返回结果:</p>
<p><code> {&quot;code&quot;:200}</code></p>
<p>魔云腾按照不同的开发语言给出了封装示例,</p>
<p>1.PHP Demo (待发布) 版本:1.0 更新日期:</p>
<p>2.Go Demo GitHub地址 <a href="https://github.com/Henry0924/myt-androidApi-demo" target="_blank" rel="noopener noreferrer">https://github.com/Henry0924/myt-androidApi-demo</a></p>
<p>3.JS Demo (待发布) 版本: 1.0 更新日期:</p>
<p>4 Python Demo (待发布) 版本: 1.0 更新日期:</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/myt-doc/docs/MYTOS/屏幕自动化辅助控制系统接口"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">屏幕自动化辅助控制系统接口</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/myt-doc/docs/MYTOS/基于docker-api封装的成品API"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">基于docker-api封装的成品API</div></a></nav></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 武汉魔云腾科技有限公司 <a href="https://beian.miit.gov.cn/">鄂ICP备2023003158号-1</a></div></div></div></footer></div>
</body>
</html>